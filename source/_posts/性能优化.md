## 从输入url到页面加载发生了什么
* 输入url
* 浏览器通过dns，将域名解析成ip地址
* 和ip地址建立tcp链接，发送http请求
* 服务器接收请求，拼接好返回的的http响应
* 浏览器收到html，开始渲染
* 解析html为dom tree
* 解析css为css tree
* dom tree和css tree构建render tree
* 重绘
* 加载script的js
* 执行js

## 优化方式
* 少加载文件

1. 文件打包压缩
2. 图片格式和压缩
3. 缓存
4. cdn
5. ssr
6. lazy-load

* 少执行代码

1. 长列表(三屛显示或五屛显示，例如淘宝的无限滚动列表)

DNS

1. 查看dbs缓存
2. 本地获取图片

网络协议


缓存
1. 强缓存，缓存数据生效的情况下，直接使用缓存，不需要和服务器交互
2. 弱缓存，缓存数据失效的情况下，需要问下服务器能不能用缓存

用户请求图片时可以设置缓存策略(cache-control)
* no-cache (先和服务器确认下响应是否变化，需要验证,走协商缓存)
* max-age 允许缓存可以被使用的时间
* no-store 禁止缓存

前端部署的最佳实践
1. html不设置缓存时间
2. 文件加指纹并且修改文件名xx.abc.js
3. 静态资源都在cdn专门的域名
  1. cdn缩减用户和服务器的距离，提升加载效率
  2. 浏览器对一个域名的并发数有限制，所以用cdn域名专门加载静态资源
4. html和js css分开上线
5. cdn会把资源部署在各大地区
  访问cdn上资源时，会访问离你最近的那个地区服务器

后端返回一个图片

图片格式怎么选择

粘包是什么？

cdn的内部原因



